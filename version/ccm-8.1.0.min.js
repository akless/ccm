!function(){var e,n={},t={},r={},i={},o=function(){var n,t=[];function i(e,t){if(void 0===e||c.helper.isObject(e))return function(){var r=[],i=1;for(var a in n.local)if(c.helper.isSubset(e,n.local[a])){var l=c.helper.clone(n.local[a]);r.push(l),i++,o(l,s)}return s(),r;function s(){0===--i&&t&&t(r)}}();var i=c.helper.clone(n.local[e])||null;return o(i,t),i;function o(e,n){var t=1,i=[];function o(e,n){if(null===r[a(e[n][1])])return i.push([o,e,n]);t++,c.helper.solveDependency(e,n,l)}function l(){if(0===--t)return i.length>0?c.helper.action(i.pop()):void(n&&n(e))}!function e(n){for(var t in n){var r=n[t];c.helper.isDependency(r)&&"ccm.get"===r[0]?o(n,t):(Array.isArray(r)||c.helper.isObject(r))&&e(r)}}(e),l()}}function o(e){e.key&&(n.local[e.key]=e)}function l(e,t){return n.local[e.key]?c.helper.integrate(e,n.local[e.key]):n.local[e.key]=e,i(e.key,t)}function s(e,t){var r;return void 0===e?(r=n.local,n.local={}):(r=n.local[e],delete n.local[e]),t&&t(r),r}function u(){return e.transaction([n.store],"readwrite").objectStore(n.store)}function f(e){return e=c.helper.integrate(e,{db:n.db,store:n.store}),n.db||delete e.db,n.user&&n.user.isLoggedIn()&&(e=c.helper.integrate(e,{user:n.user.data().key,token:n.user.data().token})),e}function p(e,r){t.push(r),e.callback=t.length,n.socket.send(JSON.stringify(e))}function d(e,t){c.load([n.url,e],t)}function h(e){return"string"!=typeof e}this.init=function(e){n=c.helper.privatize(this,"source","local","store","url","db","socket","onChange","user"),this.source=function(){return n.source},n.socket&&(n.socket.onmessage=function(e){if((e=JSON.parse(e.data)).callback)t[e.callback-1](e.data);else{var r=c.helper.isObject(e)?l(e):s(e);n.onChange&&n.onChange(r)}}),e&&e()},this.get=function(e,t){if("function"==typeof e&&(t=e,e=void 0),void 0===e&&(e={}),n.url)return function(){if(!c.helper.isObject(e)){var i=r();if(i)return i}var a=f({key:e});n.socket?p(a,l):d(a,l);function l(e){c.helper.isDataset(e)?o(e):Array.isArray(e)&&e.map(o),t&&t(e||null)}}();if(n.store)return function(){var n=r();if(n)return n;u().get(e).onsuccess=function(e){if(t){var n=e.target.result;c.helper.isDataset(n)||t(null),o(n),t&&t(n||null)}}}();if(n.local)return i(e,t);function r(){var n=i(e);return n&&t&&t(n),n}},this.set=function(e,t){if((e=c.helper.clone(e)).key||(e.key=c.helper.generateKey()),Array.isArray(e.key)){for(var r=0;r<e.key.length;r++)if(!c.helper.regex("key").test(e.key[r]))return t&&t(null),null}else if(!c.helper.regex("key").test(e.key))return t&&t(null),null;if(n.url)return function(){var t=f({dataset:e});n.socket?p(t,r):d(t,r);function r(n){h(n)&&(e=n,i())}}();if(n.store)u().put(e).onsuccess=i;else if(n.local)return i();function i(){return l(e,t)}},this.del=function(e,t){if(n.url)return function(){var i=f({del:e});n.socket?p(i,o):d(i,o);function o(e){h(e)&&(t&&t(e),t=void 0,r())}}();if(n.store)u().delete(e).onsuccess=r;else if(n.local)return r();function r(){return s(e,t)}}};window.ccm||(ccm={components:{},callbacks:{},files:{}});var c={version:function(){return"8.1.0"},clear:function(){t={},r={}},load:function(){var e=1,n=[],r=c.helper.makeIterable(arguments),o=r.slice(0);o.unshift(c.load);var a,l=!1;r[r.length-1]||r.pop();var s=c.helper.isElementNode(r[r.length-1])?r.pop().parentNode:document.head;return"function"!=typeof r[r.length-1]&&void 0!==r[r.length-1]||(a=r.pop()),r.map((function(r,a){var f;if(Array.isArray(r)){if(!(r.length>1&&c.helper.isObject(r[1])))return e++,n[a]=[],function e(t){null!==t&&n[a].push(t);if(r.length>0){var i=r.shift();!Array.isArray(i)||i.length>1&&c.helper.isObject(i[1])?c.load(i,e):(i.push(e),c.load.apply(null,i))}else u()}(null);f=r[1],r=r[0]}var p=t[r];if(t[r]=null,e++,f)return d();switch(r.split(".").pop()){case"html":return function(){if(h())return;m({url:r,type:"html",callback:y})}();case"css":return function(){if(h()&&s===document.head)return;var e=c.helper.html({tag:"link",rel:"stylesheet",type:"text/css",href:r});s.appendChild(e),e.onload=v}();case"jpg":case"gif":case"png":case"svg":return function(){if(h())return;var e=new Image;e.src=r,e.onload=v}();case"js":return function(){if(h())return;var e=c.helper.html({tag:"script",src:r});s.appendChild(e),e.onload=function(){var e=r.split("/").pop();n[a]=t[r]=ccm.files[e],delete ccm.files[e],v()}}();case"json":return function(){if(h())return;m({url:r,type:"json",callback:function(e){y(JSON.parse(e))}})}();default:d()}function d(){if(!l){if(0===r.indexOf("http"))return function(){var e="callback"+c.helper.generateKey();f||(f={});f.callback="ccm.callbacks."+e,ccm.callbacks[e]=function(t){s.removeChild(n),delete ccm.callbacks[e],y(t)};var n=c.helper.html({tag:"script",src:g(r,f)});n.src=n.src.replace(/&amp;/g,"&"),s.appendChild(n)}();var e={url:r,data:f,callback:y};0===r.indexOf("http")&&(e.jsonp=!0),f&&f.username&&f.password&&(f.username&&(e.username=f.username),f.password&&(e.password=f.password),delete f.username,delete f.password),m(e)}}function h(){return null===p?(l||(l=!0,i[r]||(i[r]=[]),i[r].push(o)),!0):!!p&&(n[a]=t[r]=p,v(),!0)}function m(e){switch(e.type){case"html":e.type="text/html";break;case"json":e.type="application/javascript"}e.async=void 0===e.async||!!e.async;var n=new XMLHttpRequest;n.open("GET",g(e.url,e.data),!!e.async,e.username,e.password),e.type&&n.setRequestHeader("Content-type",e.type),n.onreadystatechange=function(){4==n.readyState&&200==n.status&&e.callback(n.responseText)},n.send()}function g(e,n){return n?e+"?"+function e(n,t){var r="";for(var i in n){var o=t?t+"["+encodeURIComponent(i)+"]":encodeURIComponent(i);"object"==typeof n[i]?r+=e(n[i],o):r+=o+"="+encodeURIComponent(n[i])+"&"}return r}(n).slice(0,-1):e}function y(e){n[a]=t[r]=e,v()}function v(){for(void 0===n[a]&&(n[a]=t[r]=r);i[r]&&i[r].length>0;)c.helper.action(i[r].pop());u()}})),u();function u(){if(0===--e)return n.length<=1&&(n=n[0]),a&&a(n),n}},component:function(e,t,r){if("function"==typeof t&&(r=t,t=void 0),"string"==typeof e)return n[c.helper.getIndex(e)]?o():c.load(e,o);if(function(){if(e.index){var n=e.index.split("-");e.name=n[0],n.length>1&&(e.version=n[1])}e.index=e.name,e.version&&(e.index+="-"+e.version.join("-"))}(),n[e.index])return o();if(n[e.index]=e,ccm.components[e.index]={},"registerElement"in document)return i();function i(){var n;if(function(){e.instances=0,e.instance=function(n,t){return c.instance(e.index,n,t)},e.start=function(n,t){return c.start(e.index,n,t)},e.config||(e.config={});e.config.ccm=c}(),(n=Object.create(HTMLElement.prototype)).attachedCallback=function(){if(document.body.contains(this)){for(var n=this;n=n.parentNode;)if(n.tagName&&0===n.tagName.indexOf("CCM-"))return;var t=c.helper.generateConfig(this);t.element=this,e.start(t)}},document.registerElement("ccm-"+e.index,{prototype:n}),!e.init)return o();e.init(o),delete e.init}function o(){return e=c.helper.clone(n["string"==typeof e?c.helper.getIndex(e):e.index]),t&&(c.helper.isElementNode(t)&&(t={element:t}),e.config=c.helper.integrate(c.helper.clone(t),e.config),function(e){e.config&&(e.instance=function(n,t){return"function"==typeof n&&(t=n,n=void 0),c.helper.isElementNode(n)&&(n={element:n}),n=c.helper.integrate(n,c.helper.clone(e.config)),c.instance(e.index,n,(function(n){n.component=e,t&&t(n)}))},e.start=function(n,t){return"function"==typeof n&&(t=n,n=void 0),c.helper.isElementNode(n)&&(n={element:n}),n=c.helper.integrate(n,c.helper.clone(e.config)),c.start(e.index,n,(function(n){n.component=e,t&&t(n)}))})}(e)),r&&r(e),e}c.load(["https://cdnjs.cloudflare.com/ajax/libs/document-register-element/0.5.3/document-register-element.js","https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/0.7.22/webcomponents-lite.min.js"],i)},instance:function(e,t,r){"function"==typeof t&&(r=t,t=void 0);var i,o=0,a=[];return function e(t,l,s,u,f){o++;var p=!1;if(t=c.component(t,(function(e){p&&d(e.index)})))return d(t.index);function d(t){if(c.helper.isDependency(l)&&(l={key:l}),!l||!l.key)return d(l);if(c.helper.isObject(l.key))return p(c.helper.clone(l.key));if(c.helper.isDependency(l.key))return"ccm.load"===l.key[0]?c.load(l.key[1],p):c.get(l.key[1],l.key[2],p);function p(e){return c.helper.integrate(l,e),delete e.key,d(e)}function d(l){if(document.head.attachShadow&&document.head.createShadowRoot)return p();function p(){c.helper.isElementNode(l)&&(l={element:l});var p=new n[t].Instance;return n[t].instances++,s&&(s[u]=p),f&&(p.parent=f),i||(i=p),c.helper.integrate(c.helper.clone(n[t].config),p),l&&c.helper.integrate(l,p),p.id=n[t].instances,p.index=t+"-"+p.id,p.component=n[t],p.element&&function(){if("parent"===p.element)return p.element=f.element;"name"===p.element&&(p.element=(f||p.parent).element.querySelector("#"+p.component.name));var e=c.helper.html({id:c.helper.getElementID(p),class:"ccm ccm-"+p.component.name});p.element.attachShadow({mode:"open"}).appendChild(e),p.element=e}(),d(p),h();function d(n){for(var t in n){var r=n[t];if(c.helper.isDependency(r))i(n,t);else if("object"==typeof r&&null!==r){if(c.helper.isNode(r)||c.helper.isInstance(r)||c.helper.isComponent(r))continue;d(r)}}function i(n,t){var r=n[t];switch(r[0]){case"ccm.load":var i;o++,!0===r[r.length-1]&&(i=!0,r.pop()),2===r.length?c.load(r[1],l,(i?void 0:p)&&p.element):(r.shift(),c.load(r,l,(i?void 0:p)&&p.element));break;case"ccm.component":o++,r[2]||(r[2]={}),r[2].parent=p,c.component(r[1],r[2],(function(e){l(e)}));break;case"ccm.instance":a.push([e,r[1],r[2],n,t,p]);break;case"ccm.proxy":!function(e,n,t,r,i){function o(n){t[r]={component:e,parent:i,start:function(i){delete this.component,delete this.start,n||(n={}),c.helper.integrate(this,n),c.start(e,n,(function(e){t[r]=e,i&&i()}))}}}c.helper.isDependency(n)?c.get(n[1],n[2],o):o(n)}(r[1],r[2],n,t,p);break;case"ccm.store":o++,r[1]||(r[1]={}),r[1].delayed=!0,c.store(r[1],l);break;case"ccm.get":o++,c.get(r[1],r[2],l);break;case"ccm.set":o++,c.set(r[1],r[2],l);break;case"ccm.del":o++,c.del(r[1],r[2],l)}function l(e){n[t]=e,h()}}}function h(){if(0===--o){if(a.length>0)return c.helper.action(a.shift());!function(e,n){var t=[e];i(e);var r=0;function i(e){var n=[];for(var r in e){var o=e[r];if(c.helper.isInstance(o)&&"parent"!==r&&!c.helper.isProxy(o))n.push(o);else if(Array.isArray(o)||c.helper.isObject(o)){if(c.helper.isNode(o)||c.helper.isComponent(o)||c.helper.isInstance(o))continue;n.push(o)}}n.map((function(e){(c.helper.isInstance(e)||c.helper.isDatastore(e))&&t.push(e)})),n.map((function(e){i(e)}))}function o(){if(r===t.length)return a();var e=t[r];r++,e.init?e.init((function(){delete e.init,o()})):o()}function a(){if(0===t.length)return n();var e=t.pop();if(delete e.init,e.ready){var r=e.ready;delete e.ready,r(a)}else a()}o()}(i,(function(){r&&r(i)}))}return 0===o?i:null}}c.load("https://akless.github.io/ccm/lib/shadydom.min.js",p)}delete l.key,d(l)}p=!0}(e,t)},start:function(e,n,t){"function"==typeof n&&(t=n,n=void 0),c.instance(e,n,(function(e){e.start((function(){t&&t(e)}))}))},store:function(n,t){"function"==typeof n&&(t=n,n=void 0),n||(n={}),"string"!=typeof n&&(!c.helper.isObject(n)||n.local||n.store||n.url||n.delayed||n.user)||(n={local:n});var i=a(n=c.helper.clone(n));if(r[i])return t&&t(r[i]),r[i];if(n.source||(n.source=i),n.local||(n.local={}),"string"!=typeof n.local)return l(n.local);function l(a){return n.local=a,n.store&&!n.url?function(t){function r(){e.objectStoreNames.contains(n.store)?t():function(t){var r=parseInt(localStorage.getItem("ccm"));r||(r=1);e.close();var i=indexedDB.open("ccm",r+1);i.onupgradeneeded=function(){e=this.result,localStorage.setItem("ccm",e.version),e.createObjectStore(n.store,{keyPath:"key"})},i.onsuccess=t}(t)}e?r():function(n){indexedDB.open("ccm").onsuccess=function(){e=this.result,n()}}(r)}(l):l();function l(){var e=new o;if(c.helper.integrate(n,e),!e.url||0!==e.url.indexOf("ws"))return l();var a=[e.db,e.store];function l(){return delete e.datasets,e.delayed?delete e.delayed:(e.init(),delete e.init),r[i]=e,t&&t(e),e}e.datasets&&(a=a.concat(e.datasets)),e.socket=new WebSocket(e.url,"ccm"),e.socket.onopen=function(){this.send(a),l()}}}c.load(n.local,l)},get:function(e,n,t){c.store(e,(function(e){var r;"string"==typeof n&&(r=n.split(".")),n=r.shift(),r=r.join("."),e.get(n,(function(e){t(r?c.helper.deepValue(e,r):e)}))}))},set:function(e,n,t){c.store(e,(function(e){e.set(n,t)}))},del:function(e,n,t){c.store(e,(function(e){e.del(n,t)}))},context:{find:function(e,n){for(var t=e;e=e.parent;)if(e[n]&&e[n]!==t)return e[n]},root:function(e){for(;e.parent;)e=e.parent;return e}},helper:{action:function(e,n){return"function"==typeof e?e():("object"!=typeof e&&(e=e.split(" ")),"function"==typeof e[0]?e[0].apply(window,e.slice(1)):0===e[0].indexOf("this.")?this.executeByName(e[0].substr(5),e.slice(1),n):this.executeByName(e[0],e.slice(1)))},clone:function(e){return function e(n){if(c.helper.isNode(n)||c.helper.isInstance(n))return n;if(Array.isArray(n)||c.helper.isObject(n)){var t=Array.isArray(n)?[]:{};for(var r in n)t[r]=e(n[r]);return t}return n}(e)},convertObjectKeys:function(e){return Object.keys(e).map((function(n){-1!==n.indexOf(".")&&(c.helper.deepValue(e,n,e[n]),delete e[n])})),e},dataset:function(e,n,t){n||(n=c.helper.generateKey()),e.get(n,(function(e){t(null===e?{key:n}:e)}))},decodeDependencies:function(e){for(var n in e)"string"==typeof e[n]&&/^\[\W*ccm\.\w+.*\]$/.test(e[n])&&(e[n]=JSON.parse(e[n].replace(/'/g,'"')))},deepValue:function(e,n,t){return function e(n,t,r){if(!n)return;var i=t.shift();if(0===t.length)return void 0!==r?n[i]=r:n[i];n[i]||void 0===r||(n[i]={});return e(n[i],t,r)}(e,n.split("."),t)},encodeDependencies:function(e){for(var n in e)c.helper.isDependency(e[n])&&(e[n]=JSON.stringify(e[n]).replace(/"/g,"'"))},executeByName:function(e,n,t){t||(t=window);var r=e.split(".");e=r.pop();for(var i=0;i<r.length;i++)t=t[r[i]];return t[e].apply(t,n)},filterProperties:function(e,n){var t={};return(n=c.helper.makeIterable(arguments)).shift(),n.map((function(n){t[n]=e[n]})),t},format:function(e,n){var t=[[],[]];e=JSON.stringify(e,(function(e,n){return"function"==typeof n?(t[0].push(n),"%f0%"):n}));for(var r=1;r<arguments.length;r++)if("function"==typeof arguments[r]&&(t[1].push(arguments[r]),arguments[r]="%f1%"),"object"==typeof arguments[r])for(var i in arguments[r])"function"==typeof arguments[r][i]&&(t[1].push(arguments[r][i]),arguments[r][i]="%f1%"),"string"==typeof arguments[r][i]&&(arguments[r][i]=o(arguments[r][i])),e=e.replace(new RegExp("%"+i+"%","g"),arguments[r][i]);else"string"==typeof arguments[r]&&(arguments[r]=o(arguments[r])),e=e.replace(/%%/,arguments[r]);return JSON.parse(e,(function(e,n){return"%f0%"===n?t[0].shift():"%f1%"===n?t[1].shift():n}));function o(e){return e.replace(/"/g,"'").replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\f/g,"\\f")}},formData:function(e){var n={};return c.helper.makeIterable(e.querySelectorAll("*[name]")).map((function(e){if("radio"===e.getAttribute("type"))e.checked&&(n[e.getAttribute("name")]=e.value);else if("checkbox"===e.getAttribute("type"))n[e.getAttribute("name")]=e.checked?"on"===e.value||e.value:"";else if("number"===e.getAttribute("type")){var t=parseInt(e.value);isNaN(t)&&(t=""),n[e.getAttribute("name")]=t}else e.value?n[e.getAttribute("name")]=e.value:n[e.getAttribute("name")]=""})),n},generateConfig:function(e){var n={};return t(e,n),function(e){n.childNodes=[],c.helper.makeIterable(e.childNodes).map((function(i){if(i.tagName&&0===i.tagName.indexOf("CCM-")){var o=i.tagName.toLowerCase().split("-");switch(o.length<3&&(o[2]=o[1]),o[1]){case"load":c.helper.deepValue(n,o[2],function(e){var n=function e(n){if(n.hasAttribute("src")){if(0===n.children.length)return n.getAttribute("src");var t={};return c.helper.makeIterable(n.children).map((function(e){e.tagName&&0===e.tagName.indexOf("CCM-DATA-")&&(t[e.tagName.toLowerCase().split("-")[2]]=e.getAttribute("value"))})),[n.getAttribute("src"),t]}var r=[];return c.helper.makeIterable(n.children).map((function(t){("CCM-SERIAL"===t.tagName&&("CCM-PARALLEL"===n.tagName||0===n.tagName.indexOf("CCM-LOAD"))||"CCM-PARALLEL"===t.tagName&&"CCM-SERIAL"===n.tagName)&&r.push(e(t))})),r}(e);return Array.isArray(n)||(n=[n]),n.unshift("ccm.load"),e.hasAttribute("head")&&n.push(!0),n}(i,o[2]));break;case"component":case"instance":case"proxy":c.helper.deepValue(n,o[2],["ccm."+o[1],i.getAttribute("src")||o[2],c.helper.generateConfig(i)]);break;case"store":case"get":var a={};t(i,a);var l=a.key;delete a.key,c.helper.deepValue(n,o[2],["ccm."+o[1],a,l]);break;case"list":var s=null;c.helper.makeIterable(i.children).map((function(e){if(e.tagName&&0===e.tagName.indexOf("CCM-ENTRY")){var n=r(e.getAttribute("value")),t=e.tagName.toLowerCase().split("-");s||(s=t.length<3?[]:{}),t.length<3?s.push(n):c.helper.deepValue(s,t[2],n)}})),s||(s={}),t(i,s),s&&c.helper.deepValue(n,o[2],s);break;default:n.childNodes.push(i),e.removeChild(i)}}else n.childNodes.push(i),e.removeChild(i)})),n.node=c.helper.html({}),n.childNodes.map((function(e){n.node.appendChild(e)})),delete n.childNodes}(e),n;function t(e,n){c.helper.makeIterable(e.attributes).map((function(t){if("src"!==t.name||0!==e.tagName.indexOf("CCM-COMPONENT")&&0!==e.tagName.indexOf("CCM-INSTANCE")&&0!==e.tagName.indexOf("CCM-PROXY"))try{n[t.name]="{"===t.value.charAt(0)||"["===t.value.charAt(0)?JSON.parse(t.value):r(t.value)}catch(e){}}))}function r(e){return"true"===e||"false"!==e&&("null"===e?null:"undefined"!==e?""===e?"":isNaN(e)?e:parseInt(e):void 0)}},generateKey:function(){return Date.now()+"X"+Math.random().toString().substr(2)},getElementID:function(e){return"ccm-"+e.index},getIndex:function(e){if(-1===e.indexOf(".js"))return e;var n=e.split("/").pop();if(!c.helper.regex("filename").test(n))return"";var t=n.split(".");return"ccm"===t[0]&&t.shift(),t.pop(),"min"===t[t.length-1]&&t.pop(),t.join("-")},hide:function(e){e.element.parentNode.appendChild(c.helper.loading(e)),e.element.style.display="none"},html:function(e,n){if(c.helper.isNode(e))return e;if(e=c.helper.clone(e),arguments.length>1&&(e=c.helper.format.apply(this,arguments)),Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(c.helper.html(e[r]));return t}if("object"!=typeof e)return e;var i=document.createElement(c.helper.htmlEncode(e.tag||"div"));for(var o in delete e.tag,delete e.key,e){var a=e[o];switch(o){case"async":case"autofocus":case"checked":case"defer":case"disabled":case"ismap":case"multiple":case"readonly":case"required":case"selected":a&&(i[o]=!0);break;case"inner":if("string"==typeof a||"number"==typeof a){i.innerHTML=a;break}var l=this.html(a);Array.isArray(l)||(l=[l]);for(r=0;r<l.length;r++)c.helper.isElementNode(l[r])?i.appendChild(l[r]):i.innerHTML+=l[r];break;default:0===o.indexOf("on")&&"function"==typeof a?i.addEventListener(o.substr(2),a):i.setAttribute(o,c.helper.htmlEncode(a))}}return c.helper.protect(i)},htmlEncode:function(e,n,t){return"string"!=typeof e&&(e=e.toString()),e=n||void 0===n?e.trim():e,e=document.createElement("a").appendChild(document.createTextNode(e)).parentNode.innerHTML,e=t||void 0===t?e.replace(/"/g,"&quot;"):e},integrate:function(e,n,t){if(!e)return n;if(!n)return e;for(var r in e)t&&void 0!==c.helper.deepValue(n,r)||c.helper.deepValue(n,r,e[r]);return n},isComponent:function(e){return c.helper.isObject(e)&&e.Instance&&!0},isDataset:function(e){return c.helper.isObject(e)},isDatastore:function(e){return c.helper.isObject(e)&&e.get&&e.set&&e.del&&!0},isDependency:function(e){if(Array.isArray(e)&&e.length>0)switch(e[0]){case"ccm.load":case"ccm.component":case"ccm.instance":case"ccm.proxy":case"ccm.start":case"ccm.store":case"ccm.get":case"ccm.set":case"ccm.del":return!0}return!1},isElementNode:function(e){return e instanceof Element},isGoogleChrome:function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},isInstance:function(e){return c.helper.isObject(e)&&e.component&&!0},isNode:function(e){return e instanceof Node},isObject:function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)},isProxy:function(e){return c.helper.isInstance(e)&&"string"==typeof e.component},isSubset:function(e,n){for(var t in e)if("object"==typeof e[t]&&"object"==typeof n[t]){if(JSON.stringify(e[t])!==JSON.stringify(n[t]))return!1}else if(e[t]!==n[t])return!1;return!0},loading:function(e){if(!e.element.parentNode.querySelector("#ccm_keyframe")){var n=document.createElement("style");n.id="ccm_keyframe",n.appendChild(document.createTextNode("@keyframes ccm_loading { to { transform: rotate(360deg); } }")),e.element.parentNode.appendChild(n)}return c.helper.html({class:"ccm_loading",inner:{style:"display: inline-block; width: 0.5em; height: 0.5em; border: 0.15em solid #009ee0; border-right-color: transparent; border-radius: 50%; animation: ccm_loading 1s linear infinite;"}})},makeIterable:function(e){return Array.prototype.slice.call(e)},onFinish:function(e,n){if(e.onfinish){if("function"==typeof e.onfinish)return e.onfinish(e,n);if("string"==typeof e.onfinish)return this.executeByName(e.onfinish,[e,n]);e.onfinish.user?e.onfinish.user.login(t):t()}function t(){if(e.onfinish.key&&!n.key&&(n.key=e.onfinish.key),e.onfinish.store_settings){var t=c.helper.clone(n);e.onfinish.permissions&&(t._=e.onfinish.permissions),e.onfinish.user&&e.onfinish.user_specific&&(t.key=[t.key||c.helper.generateKey(),e.onfinish.user.data().key]),c.set(e.onfinish.store_settings,t,(function(n){e.onfinish.embed_code&&alert("<ccm-"+e.onfinish.embed_code+' key=\'["ccm.get",'+JSON.stringify(e.onfinish.store_settings)+',"'+n.key+"\"]'></ccm-"+e.onfinish.embed_code+">"),r()}))}else r();function r(){function t(){if(e.onfinish.log&&console.log(n),e.onfinish.render)if(e.onfinish.render.component){var t=e.onfinish.render.config;t||(t={}),t.element=e.element,c.start(e.onfinish.render.component,t)}else c.helper.setContent(e.element,c.helper.html(e.onfinish.render));e.onfinish.callback&&e.onfinish.callback(e,n)}e.onfinish.restart?e.start(t):t()}}},prepend:function(e,n){e.hasChildNodes()?e.insertBefore(n,e.firstChild):e.appendChild(n)},privatize:function(e,n){var t={};if(n)for(var r=1;r<arguments.length;r++)o(arguments[r]);else for(var i in e)o(i);return t;function o(n){switch(n){case"ccm":case"component":case"element":case"id":case"index":case"onfinish":case"parent":break;default:if(c.helper.isInstance(e[n])&&e[n].parent&&e[n].parent.index===e.index)return;if("function"==typeof e[n])return;void 0!==e[n]&&(t[n]=e[n]),delete e[n]}}},protect:function(e){if(c.helper.isElementNode(e))return c.helper.makeIterable(e.getElementsByTagName("script")).map((function(e){e.parentNode.removeChild(e)})),e;if("string"==typeof e){var n=document.createElement("div");return n.innerHTML=e,c.helper.makeIterable(n.getElementsByTagName("script")).map((function(e){e.parentNode.removeChild(e)})),n.innerHTML}},regex:function(e){switch(e){case"filename":return/^ccm\.([^.-]+)(-(0|[1-9][0-9]*)\.(0|[1-9][0-9]*)\.(0|[1-9][0-9]*))?(\.min)?(\.js)$/;case"key":return/^[a-zA-Z_0-9]+$/}},removeElement:function(e){e.parentNode&&e.parentNode.removeChild(e)},setContent:function(e,n){"object"==typeof n?(e.innerHTML="",Array.isArray(n)?n.map((function(n){e.appendChild(n)})):e.appendChild(n)):e.innerHTML=n},show:function(e){e.element.parentNode.removeChild(e.element.parentNode.querySelector(".ccm_loading")),e.element.style.display="block"},shuffleArray:function(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),r=e[n];e[n]=e[t],e[t]=r}return e},solveDependency:function(e,n,t){if(c.helper.isDependency(e[n]))return e[n][0]=c[e[n][0].split(".").pop()],e[n].push((function(r){e[n]=r,t&&t(r)})),c.helper.action(e[n]);t&&t()},wait:function(e,n){window.setTimeout(n,e)}}};function a(e){var n=JSON.stringify(c.helper.filterProperties(e,"url","db","store"));return"{}"===n&&(n=Object.keys(r).length),n}ccm[c.version()]||(ccm[c.version()]=c)}();